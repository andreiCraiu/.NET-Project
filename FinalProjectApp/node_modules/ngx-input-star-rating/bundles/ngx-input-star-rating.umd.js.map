{
  "version": 3,
  "file": "ngx-input-star-rating.umd.js",
  "sources": [
    "ng://ngx-input-star-rating/out/ngx-input-star-rating.module.ts",
    "ng://ngx-input-star-rating/out/ngx-input-star-rating.component.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgxInputStarRatingComponent } from './ngx-input-star-rating.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    NgxInputStarRatingComponent\n  ],\n  exports: [\n    NgxInputStarRatingComponent\n  ]\n})\nexport class NgxInputStarRatingModule { }\n",
    "import { forwardRef, Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nconst starIcons = {\n  outline: 'outline',\n  full: 'full',\n  half: 'half'\n};\n\n@Component({\n  selector: 'ngx-input-star-rating',\n  template: `<div class=\"input-rating\" (mouseleave)=\"mouseLeave()\">\n  <button type=\"button\" [disabled]=\"disabled\" *ngFor=\"let btn of buttons; let i = index\" class=\"input-rating__btn\" (click)=\"rate(i)\" [attr.aria-label]=\"'rate ' + (i + 1) + ' of ' + buttons.length\"\n    (mouseenter)=\"mouseEnter(i)\">\n    <span *ngIf=\"btn.active || btn.icon === starIcons.full\" class=\"full\">\n      <ng-container *ngTemplateOutlet=\"star\"></ng-container>\n    </span>\n    <ng-container *ngIf=\"!btn.active\">\n      <span *ngIf=\"btn.icon === starIcons.half\" class=\"half\">\n        <ng-container *ngTemplateOutlet=\"star\"></ng-container>\n        <svg height=\"25\" width=\"10\" class=\"star-half\">\n          <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\" style=\"fill-rule:nonzero;\"/>\n        </svg>\n      </span>\n      <span *ngIf=\"btn.icon !== starIcons.full && btn.icon !== starIcons.half\" class=\"empty\">\n        <ng-container *ngTemplateOutlet=\"star\"></ng-container>\n      </span>\n    </ng-container>\n  </button>\n</div>\n\n<ng-template #star>\n  <svg height=\"25\" width=\"23\" class=\"star\">\n    <polygon points=\"9.9, 1.1, 3.3, 21.78, 19.8, 8.58, 0, 8.58, 16.5, 21.78\" style=\"fill-rule:nonzero;\"/>\n  </svg>\n</ng-template>`,\n  styles: [`*, *::before, *::after{\n  -webkit-box-sizing:border-box;\n          box-sizing:border-box; }\n\n:host{\n  display:inline-block; }\n\n.star{\n  fill:#ccc; }\n\n.full .star{\n  fill:gold; }\n\n.half .star-half{\n  fill:gold; }\n\nbutton{\n  background-color:transparent;\n  border:0;\n  cursor:pointer;\n  position:relative;\n  width:30px;\n  height:25px; }\n  button svg{\n    position:absolute;\n    top:0;\n    left:5px; }\n`],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NgxInputStarRatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class NgxInputStarRatingComponent implements ControlValueAccessor, OnInit, OnChanges {\n  get value() {\n    return this._value;\n  }\n\n  set value(val) {\n    this._value = val;\n    this.onChange(val);\n    this.valueUpdate(this._value);\n    this.onTouched();\n  }\n\n  @Input('value') _value = 0;\n  @Input() count = 5;\n  @Input() disabled = false;\n\n  readonly starIcons = starIcons;\n\n  buttons: { active: boolean; icon: string }[] = [];\n\n  // tslint:disable-next-line:no-empty\n  onChange = (_value: number) => {};\n\n  // tslint:disable-next-line:no-empty\n  onTouched = () => {};\n\n  registerOnChange(fn: (value: number) => void) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void) {\n    this.onTouched = fn;\n  }\n\n  writeValue(value: number) {\n    if (value !== this.value) {\n      this.value = value;\n    }\n  }\n\n  ngOnInit() {\n    for (let i = 0; i < this.count; i++) {\n      this.buttons.push({ active: false, icon: starIcons.outline });\n    }\n\n    this.valueUpdate(this.value);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.value && changes.value.currentValue) {\n      this.valueUpdate(changes.value.currentValue);\n    }\n  }\n\n  rate(index: number) {\n    this.buttons.forEach((btn, i) => {\n      if (i <= index) {\n        btn.icon = starIcons.full;\n      } else {\n        btn.icon = starIcons.outline;\n      }\n    });\n\n    const total = this.buttons.reduce((prev, next) => {\n      if (next.icon === starIcons.full) {\n        return prev + 1;\n      } else {\n        return prev;\n      }\n    }, 0);\n\n    this.value = total;\n  }\n\n  mouseEnter(index: number) {\n    this.buttons.forEach((btn, i) => {\n      if (i <= index) {\n        btn.active = true;\n      } else {\n        btn.active = false;\n      }\n    });\n  }\n\n  mouseLeave() {\n    this.buttons.forEach(i => (i.active = false));\n  }\n\n  private valueUpdate(value: number) {\n    this.buttons.forEach((btn, i) => {\n      const starValue = i + 1;\n\n      if (value >= starValue) {\n        btn.icon = starIcons.full;\n      }\n\n      if (value >= starValue - 0.5 && value < starValue) {\n        btn.icon = starIcons.half;\n      }\n    });\n  }\n}\n"
  ],
  "names": [
    "CommonModule",
    "NgModule",
    "Input",
    "forwardRef",
    "NG_VALUE_ACCESSOR",
    "Component"
  ],
  "mappings": "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"
}
